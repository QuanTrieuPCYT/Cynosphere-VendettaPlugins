(function(i,f,e,l,h){"use strict";const r=e.findByProps("useStateFromStores"),y=e.findByProps("Actions","ExpressionButton"),U=e.findByProps("getStatusSize").default,{Pressable:g}=l.ReactNative,{DEFAULT_STATUS_CUTOUT:p}=e.findByProps("DEFAULT_STATUS_CUTOUT"),s=e.findByStoreName("SelfPresenceStore"),c=e.findByStoreName("UserStore"),u=e.findByStoreName("SelectedChannelStore"),S=e.findByStoreName("ChannelStore"),B=e.findByName("showUserProfileActionSheet"),a=e.findByProps("openLazy","hideActionSheet"),P=e.findByName("StatusPickerActionSheet"),T=e.findByProps("saveAccountChanges"),{UserSettingsSections:C}=e.findByProps("UserSettingsSections");function A(){const t=r.useStateFromStores([c],function(){return c.getCurrentUser()}),n=r.useStateFromStores([s],function(){return s.getStatus()}),o=r.useStateFromStores([S,u],function(){return S.getChannel(u.getCurrentlySelectedChannelId())});return React.createElement(g,{style:{height:40,width:40,marginHorizontal:4,flexShrink:0,flexDirection:"row",alignItems:"center",justifyContent:"center"},onLongPress:v,onPress:m(t.id,o.id)},React.createElement(U,{user:t,guildId:o.guild_id,status:n,avatarDecoration:t.avatarDecoration,animate:!0,autoStatusCutout:p}))}function m(t,n){return function(){B({userId:t,channelId:n})}}function v(){a.hideActionSheet(),a.openLazy(async function(){return P},"StatusPicker",{onSetCustomStatus:function(){a.hideActionSheet(),T.open(C.CUSTOM_STATUS,null,{openWithoutBackstack:!0})}})}const d=[],F=function(){d.push(f.after("render",y.default,function(t,n){h.findInReactTree(n,function(o){return o?.children?.[0]?.props?.actions}).children.splice(0,0,React.createElement(A,null))}))},L=function(){for(const t of d)t?.()};return i.onLoad=F,i.onUnload=L,i})({},vendetta.patcher,vendetta.metro,vendetta.metro.common,vendetta.utils);
