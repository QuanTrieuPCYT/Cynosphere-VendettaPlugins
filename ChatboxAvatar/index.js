(function(i,y,e,U,g){"use strict";const r=e.findByProps("useStateFromStores"),p=e.findByProps("Actions","ExpressionButton"),B=e.findByProps("getStatusSize").default,{Pressable:P}=U.ReactNative,s=e.findByProps("DEFAULT_STATUS_CUTOUT");let c;s!=null&&(c=s.DEFAULT_STATUS_CUTOUT);const u=e.findByStoreName("SelfPresenceStore"),S=e.findByStoreName("UserStore"),d=e.findByStoreName("SelectedChannelStore"),f=e.findByStoreName("ChannelStore"),T=e.findByName("showUserProfileActionSheet"),a=e.findByProps("openLazy","hideActionSheet"),C=e.findByName("StatusPickerActionSheet"),A=e.findByProps("saveAccountChanges"),{UserSettingsSections:m}=e.findByProps("UserSettingsSections");function v(){const t=r.useStateFromStores([S],function(){return S.getCurrentUser()}),n=r.useStateFromStores([u],function(){return u.getStatus()}),o=r.useStateFromStores([d],function(){return d.getCurrentlySelectedChannelId()}),h=r.useStateFromStores([f],function(){return f.getChannel(o)},[o]);return React.createElement(P,{style:{height:40,width:40,marginHorizontal:4,flexShrink:0,flexDirection:"row",alignItems:"center",justifyContent:"center"},onLongPress:L,onPress:F(t?.id,h?.id??o)},React.createElement(B,{user:t,guildId:h?.guild_id,status:n,avatarDecoration:t.avatarDecoration,animate:!0,autoStatusCutout:c}))}function F(t,n){return function(){T({userId:t,channelId:n})}}function L(){a.hideActionSheet(),a.openLazy(async function(){return C},"StatusPicker",{onSetCustomStatus:function(){a.hideActionSheet(),A.open(m.CUSTOM_STATUS,null,{openWithoutBackstack:!0})}})}const l=[],E=function(){l.push(y.after("render",p.default,function(t,n){g.findInReactTree(n,function(o){return o?.children?.[0]?.props?.actions}).children.splice(0,0,React.createElement(v,null))}))},N=function(){for(const t of l)t?.()};return i.onLoad=E,i.onUnload=N,i})({},vendetta.patcher,vendetta.metro,vendetta.metro.common,vendetta.utils);
