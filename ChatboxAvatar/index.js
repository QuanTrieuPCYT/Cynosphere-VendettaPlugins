(function(a,y,e,U,g){"use strict";const r=e.findByProps("useStateFromStores"),p=e.findByProps("Actions","ExpressionButton"),B=e.findByProps("getStatusSize").default,{Pressable:P}=U.ReactNative,c=e.findByProps("DEFAULT_STATUS_CUTOUT");let u;c!=null&&(u=c.DEFAULT_STATUS_CUTOUT);const S=e.findByStoreName("SelfPresenceStore"),d=e.findByStoreName("UserStore"),f=e.findByStoreName("SelectedChannelStore"),l=e.findByStoreName("ChannelStore"),T=e.findByName("showUserProfileActionSheet"),s=e.findByProps("openLazy","hideActionSheet"),C=e.findByName("StatusPickerActionSheet"),A=e.findByProps("saveAccountChanges"),{UserSettingsSections:m}=e.findByProps("UserSettingsSections");function v(){const t=r.useStateFromStores([d],function(){return d.getCurrentUser()}),o=r.useStateFromStores([S],function(){return S.getStatus()}),n=r.useStateFromStores([f],function(){return f.getCurrentlySelectedChannelId()}),i=r.useStateFromStores([l],function(){return l.getChannel(n)},[n]);return React.createElement(P,{style:{height:40,width:40,marginHorizontal:4,flexShrink:0,flexDirection:"row",alignItems:"center",justifyContent:"center"},onLongPress:L,onPress:F(t?.id,i?.id??n)},React.createElement(B,{user:t,guildId:i?.guild_id,status:o,avatarDecoration:t.avatarDecoration,animate:!0,autoStatusCutout:u}))}function F(t,o){return function(){T({userId:t,channelId:o})}}function L(){s.hideActionSheet(),s.openLazy(async function(){return C},"StatusPicker",{onSetCustomStatus:function(){s.hideActionSheet(),A.open(m.CUSTOM_STATUS,null,{openWithoutBackstack:!0})}})}const h=[],E=function(){h.push(y.after("render",p.default,function(t,o){const n=g.findInReactTree(o,function(i){return i?.children?.[0]?.props?.actions})?.children;n&&n.splice(0,0,React.createElement(v,null))}))},N=function(){for(const t of h)t?.()};return a.onLoad=E,a.onUnload=N,a})({},vendetta.patcher,vendetta.metro,vendetta.metro.common,vendetta.utils);
