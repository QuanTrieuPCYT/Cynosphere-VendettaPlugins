(function(o,l,u){"use strict";const f=l.findByName("RowManager");let a;const i=function(){a=u.after("generate",f.prototype,function(d,g){let[h]=d,{message:n}=g;if(h.rowType!==1||!n?.embeds||!n?.content)return;let r=0;const e=[];for(const t of n.embeds)(t.type=="image"||t.type=="gifv")&&(r++,e.push(t.url));const c=[];for(let t=0;t<e.length;t++){const s=e[t];c.push({type:"link",content:[{type:"text",content:s}],target:s}),t<e.length-1&&c.push({type:"text",content:`
`})}n.content.length==0&&r>0&&n.content.push(...c)})},p=function(){a?.()};return o.onLoad=i,o.onUnload=p,o})({},vendetta.metro,vendetta.patcher);
